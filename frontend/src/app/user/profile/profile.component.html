<div class="profile-container">
  <!-- User Navigation -->
  <nav class="user-nav">
    <a routerLink="/user/profile" routerLinkActive="active">Hồ sơ</a>
    <a routerLink="/user/change-password" routerLinkActive="active">Đổi mật khẩu</a>
    <a routerLink="/user/metrics" routerLinkActive="active">Thống kê</a>
    <a routerLink="/bookings/my-bookings" routerLinkActive="active">Lịch sử thuê</a>
    <a routerLink="/support/my-tickets" routerLinkActive="active">Hỗ trợ</a>
    <a (click)="logout()" class="logout-btn">Đăng xuất</a>
  </nav>

  <h2>Hồ sơ của bạn</h2>

  <!-- Loading state -->
  <div *ngIf="loading" class="loading">
    Đang tải hồ sơ...
  </div>

  <!-- Success message -->
  <div *ngIf="successMessage" class="success-message">
    {{ successMessage }}
  </div>

  <!-- Error message -->
  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
  </div>

  <!-- Profile form -->
  <form [formGroup]="form" (ngSubmit)="save()" *ngIf="!loading">
    <div class="form-group">
      <label>Họ và tên</label>
      <input formControlName="name" type="text" placeholder="Nhập họ và tên của bạn" />
      <app-form-error [control]="form.get('name')!" />
    </div>

    <div class="form-group">
      <label>Địa chỉ Email</label>
      <input formControlName="email" type="email" placeholder="Nhập địa chỉ email" />
      <app-form-error [control]="form.get('email')!" />
    </div>

    <div class="form-group">
      <label>Số điện thoại</label>
      <input formControlName="phone" type="text" placeholder="Nhập số điện thoại (tùy chọn)" />
    </div>

    <button type="submit" [disabled]="saving || form.invalid">
      {{ saving ? "Đang lưu..." : "Lưu thay đổi" }}
    </button>
  </form>
</div>
